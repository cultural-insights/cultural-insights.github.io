As part of the $171-billion budget deal struck by California lawmakers, a failed 20-year experiment in social engineering that tried to discourage poor women from having babies while on welfare will finally be abandoned.

The “maximum family grant” was a key feature in the welfare reforms adopted by California and other states in the mid-1990s. The idea was that welfare recipients should not be given an incentive to give birth while on the dole, so the amount of aid they received would be tied to the size their family was when they started receiving benefits. If another baby came along, well, too bad. Unless mom was raped, a victim of incest or could prove that the birth control didn’t work, there would be no benefit increase.

It was a repugnant policy and, furthermore, it didn’t seem to work. Studies have found little evidence of a link between caps in benefits and reproduction. What we do know, however, is that the maximum family grant rule punished poor kids for the choices of their parents.

Good riddance to this bad policy. It should have been repealed it long ago. Like, the minute it was adopted. The cap on benefits was based on the apocryphal story of the “welfare queen” — a term popularized by Ronald Reagan as he was campaigning for president — describing women who gamed the welfare system by popping out babies and amassing a fortune at the expense of gullible taxpayers.

There were no doubt cases of welfare fraud; you can’t have a government assistance program without someone breaking the rules. But it would take a criminal mastermind to figure out how to get rich from CalWORKs, California’s welfare-to-work program. The average grant for a family of three is about $700 a month, with a lifetime limit on benefits of four years. Most beneficiaries also have to work or develop job skills.

Without the cap on benefits, having another child will increase the monthly stipend by only about $130, which might not even cover the cost of a new baby. The USDA estimates that adding a third child to the typical household in California costs more than $8,000 a year.

It nevertheless took two decades, and the hard work of legislators such as Sen. Holly Mitchell (D-Los Angeles), to finally end this offensive and degrading policy, probably because it cost money to do so — about $224 million a year, which will go to about 126,000 children in families on welfare. Thanks to the improving economy, there was finally no reason not to repeal the cap. Combined with other new spending in the budget deal, such as an increase in support for the subsidized child care, the end of the maximum grant will help many of the poor Californians who were most impacted in the recent economic downturn.

We might call it a victory for poor families, but it’s no jackpot. Just the righting of a longstanding wrong.

Follow the Opinion section on Twitter @latimesopinion and Facebook