California lawmakers have been trying for more than a decade to protect hospital patients from being hit with huge bills from doctors who aren’t part of their health insurer’s network. They have another opportunity to do so this year, and they should seize it.

The problem arises when patients go to an in-network hospital or clinic to be treated by an in-network surgeon or other physician, but wind up receiving care (often without their knowledge) from an anesthesiologist, pathologist, radiologist or other specialist who’s not in the network. A nasty surprise arrives weeks later, when the out-of-network specialists bill them for the portion of their fee that the insurer wouldn’t cover — an amount that can be in the thousands of dollars. According to a survey by the Kaiser Family Foundation, 70% of the patients struggling to pay out-of-network doctors had not known they were going to be treated by someone who didn’t accept their insurance.

Physicians’ trade groups insist that they don’t like surprise medical bills either. The challenge has been figuring out how to create a system that encourages insurers, hospitals and doctors to avoid these situations while still providing a fair payment to the out-of-network physicians who provide treatment.

Congress provided a measure of help in the Affordable Care Act for patients receiving emergency care from out-of-network doctors by requiring insurers to cover the same percentage of the costs as they would have if the doctors had been in network. California law goes further, barring out-of-network doctors who deliver emergency care from billing patients for the amount the insurer doesn’t cover. But that still leaves patients vulnerable for non-emergency care.

Having hospitals and clinics make sure that each patient is treated only by specialists in the patient’s provider network would be one way to end surprise bills, but it would require them to manage doctors more directly than they do today. And there’s no guarantee today that the necessary specialists would be available in a patient’s network.

Assemblyman Rob Bonta (D-Alameda) and a bipartisan group of cosponsors have taken a more pragmatic approach. Their bill, AB 72, would require out-of-network doctors to obtain a patient’s permission at least a day before providing non-emergency treatment at an in-network hospital or clinic. If the patient doesn’t voluntarily agree to be treated by a specific out-of-network doctor and pay the extra charges, he or she couldn’t be billed for more than an in-network provider would have cost — even if out-of-network doctors are brought in. Any participating out-of-network doctor, meanwhile, would have to accept the average amount paid to in-network doctors or go to arbitration with the insurer.

The risk here is that too many of the physicians that don’t want to join insurance networks will simply refuse to see patients who won’t pay their full rate. The bill takes a reasonable approach to the core problem, which is the fact that patients are being hit with huge bills they hadn’t anticipated and had no say in. Lawmakers still have to iron out some details, however, to make sure the system works fairly for everyone. For example, the bill needs to give insurers an incentive to bring into their networks a full complement of specialists at every in-network hospital, rather than counting on out-of-network doctors being willing to treat patients at a discount.

There will always be tension between what insurers want to pay and what providers want to be paid for their services, especially in regions where one or the other faces limited competition. So there will inevitably be fights over how much a provider’s service is worth to an insurer, and vice versa. But there’s no reason patients should be caught by surprise in the middle of that fight.

Follow the Opinion section on Twitter @latimesopinion and Facebook.